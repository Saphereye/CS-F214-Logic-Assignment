<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Logic Assignment: Profiling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="basic.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Logic Assignment
   </div>
   <div id="projectbrief">Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_Profiling.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Profiling </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md10"></a>
Goal</h1>
<p>The of this exercise is to optimise the code but also keeping in mind the size. A popular method of compiling usually is to replace a function call with body of function. But this can lead to large files if the function has been called numerous times.</p>
<p>Using above mentioned techniques, <code>g++</code> is able to compile our <code>C++</code> code. </p>
<h1><a class="anchor" id="autotoc_md11"></a>
Tools</h1>
<p>We have used <code>gprof</code> as our profiler. <code>gprof</code> is a profiling program which collects and arranges statistics of the program. </p>
<h1><a class="anchor" id="autotoc_md12"></a>
Input</h1>
<p>A randomised input(<code>1000</code> character long) was generated, each time using a small python script </p><div class="fragment"><div class="line">import os</div>
<div class="line">import random</div>
<div class="line">from secrets import choice</div>
<div class="line"> </div>
<div class="line">text = &quot;&quot;</div>
<div class="line">for i in range(1_000_000):</div>
<div class="line">    if (i % 2 == 0):</div>
<div class="line">        text += random.choices(list(&quot;abcd&quot;))[0]</div>
<div class="line">    else:</div>
<div class="line">        text += random.choice(list(&quot;~+*&gt;&quot;))[0]</div>
<div class="line"> </div>
<div class="line">print(text, end=&#39;&#39;)</div>
</div><!-- fragment --><p>which was later written into a text file using <code>python3 &lt;name-of-above-file&gt; &gt; &lt;output text-file&gt;</code> in bash. </p>
<h1><a class="anchor" id="autotoc_md13"></a>
Execution</h1>
<p>The program was executed with the <code>-Os -Ofast</code> as the final execution.</p>
<p>The <code>-Os</code> flag optimizes the size of the code. It disables some aggresive optimizations done by <code>-Ofast</code> to save memory. For example replacing with body of code instead of a call function.</p>
<p>The program was run completely i.e. all the options in the menu were executed once and all truth values were given <code>1</code>)</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Profiler Output</h1>
<h2><a class="anchor" id="autotoc_md15"></a>
Call Table</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">calls </th><th class="markdownTableHeadNone">Ts/call </th><th class="markdownTableHeadNone">Ts/call </th><th class="markdownTableHeadNone">name  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5 </td><td class="markdownTableBodyNone">0.00 </td><td class="markdownTableBodyNone">0.00 </td><td class="markdownTableBodyNone">Logic::printParseTree(Logic::Operator*, int, int*)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">0.00 </td><td class="markdownTableBodyNone">0.00 </td><td class="markdownTableBodyNone">Logic::getParseTreeHeight(Logic::Operator*)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">0.00 </td><td class="markdownTableBodyNone">0.00 </td><td class="markdownTableBodyNone">Logic::calcprefixToParseTree(std::__cxx11::basic_string, std::allocator &gt;, unsigned long*)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">0.00 </td><td class="markdownTableBodyNone">0.00 </td><td class="markdownTableBodyNone">_GLOBAL__sub_I_isDebugMode  </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md16"></a>
Call Graph</h2>
<p><a href="https://mermaid.live/edit#pako:eNptkM0KwjAQhF-l7FlfIAfBfwUF0eLFeFiStQ22SUlTUMR3N7qW4k9O2d1vZmBuoJwmEJB5rPJktZU2iW94WLnMKCG0qasCrxv0NaWe6Jj0-4Nk1J4rb2zojiweMfN2eg3jVpBRhy_IZHl4iyadJZ3MJXVfkdP2rrBQvwybTBnlYfYvc48F-80Ymn_YtlTqljYGMDmHHpTkSzQ69nR76iSEnEqSIOJXoz9LkPYeOWyC212tAhF8Qz1oKo2BJgZjvSWIExZ13JI2wfk1F__q__4AXgR_-Q"><img src="https://mermaid.ink/img/pako:eNptkM0KwjAQhF-l7FlfIAfBfwUF0eLFeFiStQ22SUlTUMR3N7qW4k9O2d1vZmBuoJwmEJB5rPJktZU2iW94WLnMKCG0qasCrxv0NaWe6Jj0-4Nk1J4rb2zojiweMfN2eg3jVpBRhy_IZHl4iyadJZ3MJXVfkdP2rrBQvwybTBnlYfYvc48F-80Ymn_YtlTqljYGMDmHHpTkSzQ69nR76iSEnEqSIOJXoz9LkPYeOWyC212tAhF8Qz1oKo2BJgZjvSWIExZ13JI2wfk1F__q__4AXgR_-Q?type=png" alt="" class="inline"/></a> </p>
<h1><a class="anchor" id="autotoc_md17"></a>
Analysis</h1>
<p>All the functions after the optimisation are user made function. This points us to the fact that we can improve the efficiency of the program by improving the functions given in the table. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
